<!DOCTYPE html>
<html lang="en">

<head>
    <title>ATM login</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    

    
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    
</head>
<body>
    <div id="login-area" class="mt-5">
        <div class="col-md-8 col-md-offset-2">
            <br/>
            enter card number:
            <input type="text" class="form-control" name="cardnum" id="cardnum"><br>
            <span id="cardnumError" class="text-danger"></span>
            enter pin:
            <input type="text" class="form-control" name="pin" id="pin"><br>
            <span id="pinError" class="text-danger"></span>
        
            <button type="button" onclick="login()" class="form-control btn btn-success">proceed</button>
            <span class="text-center text-danger" id="btnerror"></span>
            <p>new user? <a href="ATMregiststeration.html">sign in</a></p>
        </div>
    </div>
    <script>
        function login() {
    let cardnum=document.getElementById("cardnum").value;
    let pin=document.getElementById("pin").value;

    var saveddata=JSON.parse(localStorage.getItem("persontlist"));
    console.log(saveddata);
    var isvalid=false;

    for(var i in saveddata){
        document.getElementById("cardnumError").innerHTML="";
        document.getElementById("pinError").innerHTML="";

        if(cardnum==saveddata[i].cardnum && pin==saveddata[i].pin){
            isvalid=true;
            break;
        };
    }     
    if(isvalid){
        window.location.href="ATMhomepage.html";
    }else{
        document.getElementById("btnerror").innerHTML="card is not registered!!!!Please Sign in first";
    }

}

    </script>
</body>
</html>